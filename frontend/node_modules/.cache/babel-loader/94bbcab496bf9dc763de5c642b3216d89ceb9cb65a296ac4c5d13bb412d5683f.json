{"ast":null,"code":"import React,{useEffect,useContext}from'react';import{BrowserRouter as Router,Route,Routes,useLocation}from'react-router-dom';import Home from'./components/Home';import Register from'./components/Register';import Login from'./components/Login';import Layout from'./components/Layout';import CreateAd from'./components/CreateAd';import{UserProvider,UserContext}from'./UserContext';import MainPage from'./components/MainPage';import AdDetail from'./components/AdDetail';// Импортируем компонент AdDetail\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const location=useLocation();const{setUser}=useContext(UserContext);useEffect(()=>{const storedUser=localStorage.getItem('user');if(storedUser){setUser(JSON.parse(storedUser));}},[setUser]);useEffect(()=>{document.body.className='';if(location.pathname==='/'){document.body.classList.add('home-page');}else if(location.pathname==='/register'){document.body.classList.add('register-page');}else if(location.pathname==='/login'){document.body.classList.add('login-page');}else if(location.pathname.startsWith('/main')){document.body.classList.add('main-page');}},[location.pathname]);return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/main\",element:/*#__PURE__*/_jsx(Layout,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(MainPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"create-ad\",element:/*#__PURE__*/_jsx(CreateAd,{})}),/*#__PURE__*/_jsx(Route,{path:\"ad/:ad_id\",element:/*#__PURE__*/_jsx(AdDetail,{})}),\" \"]})]});};const Root=()=>/*#__PURE__*/_jsx(UserProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(App,{})})});export default Root;","map":{"version":3,"names":["React","useEffect","useContext","BrowserRouter","Router","Route","Routes","useLocation","Home","Register","Login","Layout","CreateAd","UserProvider","UserContext","MainPage","AdDetail","jsx","_jsx","jsxs","_jsxs","App","location","setUser","storedUser","localStorage","getItem","JSON","parse","document","body","className","pathname","classList","add","startsWith","children","exact","path","element","index","Root"],"sources":["D:/React Roadstar New/roadstar/src/App.js"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Routes, useLocation } from 'react-router-dom';\n\nimport Home from './components/Home';\nimport Register from './components/Register';\nimport Login from './components/Login';\nimport Layout from './components/Layout';\nimport CreateAd from './components/CreateAd';\nimport { UserProvider, UserContext } from './UserContext';\nimport MainPage from './components/MainPage';\nimport AdDetail from './components/AdDetail'; // Импортируем компонент AdDetail\n\nconst App = () => {\n  const location = useLocation();\n  const { setUser } = useContext(UserContext);\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, [setUser]);\n\n  useEffect(() => {\n    document.body.className = '';\n    if (location.pathname === '/') {\n      document.body.classList.add('home-page');\n    } else if (location.pathname === '/register') {\n      document.body.classList.add('register-page');\n    } else if (location.pathname === '/login') {\n      document.body.classList.add('login-page');\n    } else if (location.pathname.startsWith('/main')) {\n      document.body.classList.add('main-page');\n    }\n  }, [location.pathname]);\n\n  return (\n    <Routes>\n      <Route exact path=\"/\" element={<Home />} />\n      <Route path=\"/register\" element={<Register />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route path=\"/main\" element={<Layout />}>\n        <Route index element={<MainPage />} />\n        <Route path=\"create-ad\" element={<CreateAd />} />\n        <Route path=\"ad/:ad_id\" element={<AdDetail />} /> {/* Добавляем маршрут для AdDetail */}\n      </Route>\n    </Routes>\n  );\n};\n\nconst Root = () => (\n  <UserProvider>\n    <Router>\n      <App />\n    </Router>\n  </UserProvider>\n);\n\nexport default Root;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}