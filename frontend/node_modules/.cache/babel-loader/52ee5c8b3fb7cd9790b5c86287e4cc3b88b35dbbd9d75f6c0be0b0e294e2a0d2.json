{"ast":null,"code":"// components/MainPage.jsx\nimport React,{useContext,useEffect,useState}from'react';import axios from'axios';import'./styles/main.css';import{UserContext}from'../UserContext';import AdCard from'./AdCard';// Импортируем компонент AdCard\nimport{jsx as _jsx}from\"react/jsx-runtime\";const MainPage=()=>{const{user}=useContext(UserContext);const[ads,setAds]=useState([]);useEffect(()=>{const fetchAds=async()=>{try{const response=await axios.get('http://localhost:8000/get_ad');setAds(response.data);}catch(error){console.error('Error fetching ads:',error);}};fetchAds();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ads-container\",children:ads.map(ad=>/*#__PURE__*/_jsx(AdCard,{photo:ad.photo,title:ad.title},ad.ad_id))})});};export default MainPage;","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","UserContext","AdCard","jsx","_jsx","MainPage","user","ads","setAds","fetchAds","response","get","data","error","console","className","children","map","ad","photo","title","ad_id"],"sources":["D:/React Roadstar New/roadstar/src/components/MainPage.jsx"],"sourcesContent":["// components/MainPage.jsx\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport './styles/main.css';\r\nimport { UserContext } from '../UserContext';\r\nimport AdCard from './AdCard'; // Импортируем компонент AdCard\r\n\r\nconst MainPage = () => {\r\n  const { user } = useContext(UserContext);\r\n  const [ads, setAds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchAds = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/get_ad');\r\n        setAds(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching ads:', error);\r\n      }\r\n    };\r\n\r\n    fetchAds();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"main-content\">\r\n      <div className=\"ads-container\">\r\n        {ads.map(ad => (\r\n          <AdCard key={ad.ad_id} photo={ad.photo} title={ad.title} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,mBAAmB,CAC1B,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAE/B,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,IAAK,CAAC,CAAGT,UAAU,CAACI,WAAW,CAAC,CACxC,KAAM,CAACM,GAAG,CAAEC,MAAM,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAElCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAV,KAAK,CAACW,GAAG,CAAC,8BAA8B,CAAC,CAChEH,MAAM,CAACE,QAAQ,CAACE,IAAI,CAAC,CACvB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC7C,CACF,CAAC,CAEDJ,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEL,IAAA,QAAKW,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BZ,IAAA,QAAKW,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BT,GAAG,CAACU,GAAG,CAACC,EAAE,eACTd,IAAA,CAACF,MAAM,EAAgBiB,KAAK,CAAED,EAAE,CAACC,KAAM,CAACC,KAAK,CAAEF,EAAE,CAACE,KAAM,EAA3CF,EAAE,CAACG,KAA0C,CAC3D,CAAC,CACC,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}